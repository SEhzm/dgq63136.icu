import{l as _,E as j,e as A,b as X,m as Z,v as K,k as S,d as W,n as Y,o as ee,p as te,q as ae}from"./element-plus.8000f9e8.js";import{r as g}from"./request.30469306.js";import{_ as oe}from"./index.821bfadd.js";import{o as u,c as x,r as p,_ as le,k as se,j as ne,a as e,T as n,U as T,V as t,P as s,Q as I,O as U,S as re,F as ie,aw as ce}from"./@vue.7a8f7aed.js";import"./lodash-es.2e98bc53.js";import"./@vueuse.65cb1fed.js";import"./@element-plus.b9e6ff10.js";import"./@popperjs.c75af06c.js";import"./@ctrl.f8748455.js";import"./dayjs.9b60f51a.js";import"./aplayer.9b49dac4.js";import"./async-validator.dee29e8b.js";import"./memoize-one.297ddbcb.js";import"./normalize-wheel-es.ed76fb12.js";import"./@floating-ui.c9ffdb72.js";import"./axios.28bc18a3.js";import"./vue-router.e9f6b670.js";import"./video.js.88a0551f.js";const de="/assets/png/hello.91265204.png",pe={},me={src:de,alt:"",style:{width:"40px"}};function ue(z,Q){return u(),x("img",me)}const _e=oe(pe,[["render",ue]]);const ge={class:"home"},be={class:"card",style:{"line-height":"25px","margin-top":"50px"}},he={class:"header-text"},fe=e("br",null,null,-1),ve=e("img",{src:"https://pic.imgdb.cn/item/6607ee8f9f345e8d03ae39d8.png",alt:"捏狗头",class:"dog_head"},null,-1),xe=ce('<div class="card" style="line-height:30px;margin-top:10px;"><div><b><em style="font-size:17px;color:red;">新增时光相册2015年-2024年(可评论)，新增在线投稿弹幕(可直接查看，不用审核版)! 可以听小团体生日歌。</em></b></div></div><div class="card" style="line-height:30px;margin-top:8px;"><p>你好，各位白字。 <br> 这是一个收集厕所弹幕的网站: <span class="dgq63136"><a href="https://dgq63136.icu" style="color:red;">DGQ63136.icu <img src="https://pic.imgdb.cn/item/6607ee8f9f345e8d03ae393c.png" alt="鸡毙你" class="biabiabia"></a></span><br></p></div>',2),ye={class:"card",style:{"line-height":"0px","margin-top":"8px"}},we={key:1},De=e("p",null,"未选择随机项",-1),ke=[De],Ce={class:"card",style:{"line-height":"45px","margin-top":"10px","margin-bottom":"10px","min-height":"80px"}},qe=e("span",{style:{position:"absolute","font-size":"22px","margin-top":"-20px",color:"blue"}}," --------搜索在这，🦐吗--------- ",-1),Ee={class:"card",style:{"margin-top":"8px","text-align":"center"}},Ve={class:"Addform"},Se=e("img",{src:"https://pic.imgdb.cn/item/6607ee909f345e8d03ae3cc1.png",alt:"👍👍👍",class:"good"},null,-1),Te=e("div",{class:"card",style:{"line-height":"30px","margin-top":"10px"}},[n(" 友情链接 "),e("a",{href:"https://sb6657.cn",target:"_blank"},"sb6657.cn")],-1),Ie={class:"el-footer"},Ue={style:{"font-size":"11px"}},ze=e("text",null,[n(" 域名所有："),e("a",{href:"https://yuba.douyu.com/user/main/lOdEpeOJzwnR",target:"_blank"},"@瓜瓜的御用攻城狮")],-1),Qe=e("a",{href:"https://beian.miit.gov.cn/",target:"_blank"},"桂ICP备2024022150号",-1),Be=e("text",null,[n("    "),e("img",{src:"https://ywtb.mps.gov.cn/newhome/templates/Zwfw_Fwmh/img/main/foot-ga.png",alt:""}),e("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=45040302000258",target:"_blank"}," 桂公网安备45040302000258号")],-1),tt={__name:"Home",setup(z){(()=>{g.get("https://api.vvhan.com/api/visitor.info").then(a=>{const l=a;localStorage.setItem("ip",a.ip),_({icon:_e,dangerouslyUseHTMLString:!0,title:"你好",message:"<p>欢迎来自<b>"+l.location+"</b>的厕友<br/>"+l.system+" "+l.browser+" <br>IP: "+l.ip+"</p>",offset:50,duration:1e4})})})();const m=p(""),b=p(null),B=new Date("2041-06-07"),M=p(0),N=new Date("2024-10-23"),y=p(0),P=new Date("2025-02-20"),w=p(0),h=p(!0),F={table:[{required:!0,message:"请选择分栏",trigger:"blur"}],barrage:[{required:!0,message:"请输入弹幕",trigger:"blur"}]},J=()=>{o.table===""||o.barrage===""?_.error("请选择分栏或输入弹幕"):g.post("/dgq/addUnaudit",{ip:localStorage.getItem("ip"),table:o.table,barrage:o.barrage}).then(a=>{f(),o.dialogFormVisible=!1,o.barrage="",a.code==="200"?_.success("投稿成功，待审核(一天内)"):_.error("请求失败")})},o=le({tableData:[],table:"",barrage:""}),f=()=>{g.get("/dgq/allBarrage/Page",{}).then(a=>{o.tableData=a.data||[],h.value=!1,D()}).catch(a=>{console.error("加载数据失败:",a)})};f();const D=()=>{if(o.tableData.length>0){const a=Math.floor(Math.random()*o.tableData.length);b.value=o.tableData[a]}},L=se(()=>m.value?o.tableData.filter(a=>a.barrage.toLowerCase().includes(m.value.toLowerCase())):[]),O=()=>{S({message:"复制成功",type:"success"})},R=()=>{S.error("复制失败，请检查浏览器是否禁用navigator.clipboard对象或手动复制,请勿使用夸克浏览器")},v=a=>{const l=a.barrage;let r=document.createElement("input");r.value=l,document.body.appendChild(r),r.select();try{document.execCommand("Copy"),O(),console.log("内容已复制到剪贴板"),g.post("/dgq/addCnt",{PageNum:o.currentPage,table:"allbarrage",id:a.id}).then(()=>{setTimeout(()=>f,50)})}catch(c){console.error("复制失败:",c),R()}document.body.removeChild(r)},k=()=>{const a=new Date,l=B-a,r=N-a,c=P-a;M.value=Math.ceil(l/(1e3*60*60*24)),y.value=Math.ceil(r/(1e3*60*60*24)),w.value=Math.ceil(c/(1e3*60*60*24))};return ne(()=>{k(),setInterval(k,1e3*60*60*24)}),(a,l)=>{const r=j,c=W,C=A,q=X,i=Y,G=ee,E=te,H=Z,$=ae,V=K;return u(),x(ie,null,[e("div",ge,[e("div",be,[e("div",null,[e("b",he,[n("🎂🎂🎂🎂生日快乐冬瓜强🎂🎂🎂🎂 "),fe,n(" 距离2023年10月23日04:07分，冬瓜强自爆爆皮过长 一周年还有"+T(y.value)+"天，警钟长鸣！ ",1),ve])])]),xe,e("div",ye,[e("div",null,[t(r,{type:"primary",onClick:D},{default:s(()=>[n("点我随机一条弹幕")]),_:1}),b.value?I((u(),U(C,{key:0,data:[b.value],style:{"font-family":"微软雅黑","font-size":"20px"},"header-cell-style":{fontSize:"14px",whitespace:"normal !important"},onRowClick:v},{default:s(()=>[t(c,{prop:"barrage",label:"弹幕"}),t(c,{label:"",align:"center",width:"85"},{default:s(()=>[t(r,{type:"primary"},{default:s(()=>[n("复制")]),_:1})]),_:1})]),_:1},8,["data"])),[[V,h.value]]):(u(),x("div",we,ke))])]),e("div",Ce,[e("div",null,[qe,t(q,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=d=>m.value=d),placeholder:"搜索弹幕...",style:{"font-size":"30px","margin-top":"30px"}},null,8,["modelValue"]),m.value?I((u(),U(C,{key:0,data:L.value,stripe:"",onRowClick:v},{default:s(()=>[t(c,{prop:"barrage",label:"弹幕"}),t(c,{label:"",align:"center",width:"85"},{default:s(d=>[t(r,{type:"primary",onClick:Me=>v(d.row)},{default:s(()=>[n("复制")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[V,h.value]]):re("",!0)])]),e("div",Ee,[e("div",Ve,[t(H,{model:o,"label-width":"100px",rules:F,"label-position":"right"},{default:s(()=>[t(E,{label:"分栏","label-width":100,prop:"table"},{default:s(()=>[t(G,{modelValue:o.table,"onUpdate:modelValue":l[1]||(l[1]=d=>o.table=d),placeholder:"选择上传的分栏"},{default:s(()=>[t(i,{label:"2022年警钟长鸣",value:"dgq_J2022"}),t(i,{label:"2023年警钟长鸣",value:"dgq_J2023"}),t(i,{label:"2024年警钟长鸣",value:"dgq_J2024"}),t(i,{label:"+1",value:"dgq_p1"}),t(i,{label:"🐘超哥🐘",value:"dgq_ruibin"}),t(i,{label:"小团体",value:"dgq_XTT"}),t(i,{label:"DGQ",value:"dgq_DGQ"}),t(i,{label:"白字",value:"dgq_baizi"}),t(i,{label:"QUQU",value:"dgq_QUQU"})]),_:1},8,["modelValue"])]),_:1}),t(E,{label:"弹幕内容",prop:"barrage"},{default:s(()=>[t(q,{modelValue:o.barrage,"onUpdate:modelValue":l[2]||(l[2]=d=>o.barrage=d),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(r,{type:"primary",onClick:J,style:{"font-size":"20px"}},{default:s(()=>[n(" 投稿 ")]),_:1})]),_:1},8,["model"])]),t($,{right:50,bottom:50}),Se,n("  ")]),Te]),e("div",Ie,[n(" 基于腾讯云服务器搭建"),e("text",Ue,"(离服务器到期还有"+T(w.value)+"天)",1),ze,n("     "),Qe,Be])],64)}}};export{tt as default};
